/*
 * @license Multi Input Mask plugin for jquery
 * https://github.com/ruslanbelziuk/inputmask-multi
 * Copyright (c) 2012-2016 Andrey Egorov
 * Copyright (c) 2020 Ruslan Belziuk
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 * Version: 1.3.0
 *
 * Requriements:
 * https://github.com/RobinHerbots/jquery.inputmask
 */
!function(t){t.masksLoad=function(e){var s;return t.ajax({url:e,async:!1,dataType:"json",success:function(t){s=t}}),s},t.masksSort=function(e,s,i,n){return e.sort(function(e,a){for(var r=0,o=0;r<e[n].length&&o<a[n].length;){var h=e[n].charAt(r),l=a[n].charAt(o);if(i.test(h))if(i.test(l)){if(-1!=t.inArray(h,s)&&-1==t.inArray(l,s))return 1;if(-1==t.inArray(h,s)&&-1!=t.inArray(l,s))return-1;if(-1==t.inArray(h,s)&&-1==t.inArray(l,s)&&h!=l)return h<l?-1:1;r++,o++}else o++;else r++}for(;r<e[n].length||o<a[n].length;)if(r<e[n].length&&!i.test(e[n].charAt(r)))r++;else if(o<a[n].length&&!i.test(a[n].charAt(o)))o++;else{if(r<e[n].length)return 1;if(o<a[n].length)return-1}return 0}),e};var e=function(t,e){if("number"!=typeof t){if(this.setSelectionRange)t=this.selectionStart,e=this.selectionEnd;else if(document.selection&&document.selection.createRange){e=(t=0-(s=document.selection.createRange()).duplicate().moveStart("character",-1e5))+s.text.length}return{begin:t,end:e}}if(e="number"==typeof e?e:t,this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var s;(s=this.createTextRange()).collapse(!0),s.moveEnd("character",e),s.moveStart("character",t),s.select()}},s=Object.keys||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var s in t)e[e.length]=s;return e},i=function(t){for(var e=this.inputmasks.options,i="",n=0;n<t.length;n++){var a=t.charAt(n);if(a==this.inputmasks.placeholder)break;e.match.test(a)&&(i+=a)}for(var r in e.list){for(var o=e.list[r][e.listKey],h=!0,l=0,u=0;l<i.length&&u<o.length;){var c=o.charAt(u),p=i.charAt(l);if(e.match.test(c)||c in this.inputmasks.defs){if(!(c in this.inputmasks.defs&&this.inputmasks.defs[c].test(p)||p==c)){h=!1;break}l++,u++}else u++}if(h&&l==i.length){var m=-1==o.substr(u).search(e.match),d=-1==(o=o.replace(new RegExp([e.match.source].concat(s(this.inputmasks.defs)).join("|"),"g"),e.replace)).substr(u).search(e.replace);return{mask:o,obj:e.list[r],determined:m,completed:d}}}return!1},n=function(e){var s=this;t.each(this.inputmask.events[e.type],function(t,i){i.call(s,e)})},a=function(s,n){var a,r=this.inputmasks.options,o={newtext:n};(r.onMaskApply.call(this,s,o,i),n=o.newtext,!s||void 0===n&&s.mask==this.inputmasks.oldmatch.mask)||(void 0===n?a=function(t,e,s){var i=this.inputmasks.options;if(!t)return 0;for(var n=0,a=0;n<s.begin;n++)t.charAt(n)==i.replace&&a++;for(var r=0;n<s.end;n++)t.charAt(n)==i.replace&&r++;for(n=0;n<e.length&&(a>0||e.charAt(n)!=i.replace);n++)e.charAt(n)==i.replace&&a--;for(a=n;n<e.length&&r>0;n++)e.charAt(n)==i.replace&&r--;return{begin:a,end:r=n}}.call(this,this.inputmasks.oldmatch.mask,s.mask,e.call(this)):(this.inputmask&&this.inputmask.remove(),this.value=n),t(this).inputmask(s.mask,t.extend(!0,r.inputmask,{insertMode:this.inputmasks.insertMode})),function(){t._data(this,"events");var e=this;t.each(["keydown","keypress","paste","dragdrop","drop","setvalue","reset","cut","blur"],function(s,i){t.each(e.inputmask.events[i],function(s,n){t(e).off(i,n)})})}.call(this),void 0===n&&e.call(this,a.begin,a.end));this.inputmasks.oldmatch=s,r.onMaskChange.call(this,s.obj,s.determined)},r=function(t,e,s){var r=i.call(this,e);return r&&r.obj==this.inputmasks.oldmatch.obj&&r.determined==this.inputmasks.oldmatch.determined?(n.call(this,t),!0):(r?s?(a.call(this,r),n.call(this,t)):(n.call(this,t),a.call(this,r)):s&&this.inputmasks.insertMode||c.call(this,e),!1)},o=function(t){if(t.metaKey)return n.call(this,t),!0;var s=this.inputmasks.options,i=(t=t||window.event).which||t.charCode||t.keyCode;if(8==i||46==i||this.inputmasks.iphone&&127==i){var a=this.inputmask._valueGet(),o=e.call(this);if(o.begin==o.end){var h=o.begin;do{46!=i&&h--;var l=a.charAt(h);a=a.substring(0,h)+a.substring(h+1)}while(h>0&&h<a.length&&l!=this.inputmasks.placeholder&&!s.match.test(l))}else a=a.substring(0,o.begin)+a.substring(o.end);return r.call(this,t,a,!1)}return 45==i&&(this.inputmasks.insertMode=!this.inputmasks.insertMode),n.call(this,t),!0},h=function(t){if(t.metaKey)return n.call(this,t),!0;var s=this.inputmask._valueGet(),i=(t=t||window.event).which||t.charCode||t.keyCode,a=String.fromCharCode(i),o=e.call(this);return s=o.begin==o.end&&s.charAt(o.begin)==this.inputmasks.placeholder?s.substring(0,o.begin)+a+s.substring(o.end+1):s.substring(0,o.begin)+a+s.substring(o.end),r.call(this,t,s,!0)},l=function(t){return c.call(this),!0},u=function(t){var e=this;return setTimeout(function(){c.call(e)},0),!0},c=function(t){void 0===t&&(t=this.inputmask&&this.inputmask._valueGet?this.inputmask._valueGet():this.value);for(var e=i.call(this,t);!e&&t.length>0;)t=t.substr(0,t.length-1),e=i.call(this,t);a.call(this,e,t)};t.fn.inputmasks=function(e){switch(e){case"remove":(function(){t(this).off(".inputmasks")}).call(this),this.inputmasks=void 0,t(this).inputmask("remove");break;case"isCompleted":var s=i.call(this[0],this[0].inputmask&&this[0].inputmask._valueGet()||this[0].value);return s&&s.completed;default:return this.each(function(){(function(e){e=t.extend(!0,t.fn.inputmasks.defaults,e);var s={};for(var i in e.inputmask.definitions){var n=e.inputmask.definitions[i].validator;switch(typeof n){case"string":s[i]=new RegExp(n);break;case"object":"test"in e.definitions[i].validator&&(s[i]=n);break;case"function":s[i]={test:n}}}e.inputmask.definitions[e.replace]={validator:e.match.source,cardinality:1},this.inputmasks&&t(this).inputmasks("remove"),this.inputmasks={},this.inputmasks.options=e,this.inputmasks.defs=s,this.inputmasks.iphone=null!=navigator.userAgent.match(/iphone/i),this.inputmasks.oldmatch=!1,this.inputmasks.placeholder=e.inputmask.placeholder||Inputmask.prototype.defaults.placeholder,this.inputmasks.insertMode=void 0!==e.inputmask.insertMode?e.inputmask.insertMode:Inputmask.prototype.defaults.insertMode,c.call(this)}).call(this,e),function(){t(this).on("keydown.inputmasks",o).on("keypress.inputmasks",h).on("paste.inputmasks",u).on("dragdrop.inputmasks",u).on("drop.inputmasks",u).on("cut.inputmasks",u).on("setvalue.inputmasks",l).on("blur.inputmasks",l).on("reset.inputmasks",l)}.call(this)}),this}},t.fn.inputmasks.defaults={onMaskApply:t.noop,onMaskChange:t.noop}}(jQuery);